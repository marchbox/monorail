{#

Pagination:

- n = current page;
- z = last page
- m = how many pages around the current page to display, must be even
- general: [prev] [1] … [n - m/2] [n - m/2 + 1] [n] [n + m/2 - 1] [n + m/2] … [z] [next]

#}

{% if pagination and pagination.hrefs.length > 1 %}

{% set paginationLabel = paginationConfig.label or (title + ' pagination') %}
<nav aria-label="{{paginationLabel}}" class="{{{
      'pagination': true,
      'pagination-reversed': paginationConfig.isReversed,
      'fenced': paginationConfig.isFenced
    }|classes}}">
  {% set emptyLabel = 'The end' if paginationConfig.isReversed else 'More to come…' %}
  {% if pagination.href.previous %}
  {% set prevPageTitle =
      paginationConfig.prevPageTitle or ('Page ' + pagination.pageNumber) %}
  <a href="{{pagination.href.previous}}" class="pagination-prev"
      title="Previous page ({{prevPageTitle}})">
    <span role="none">Previous:</span>
    <strong>{{prevPageTitle}}</strong>
  </a>
  {% else %}
  <span aria-hidden="true" class="pagination-prev">{{emptyLabel}}</span>
  {% endif %}

  {% if not paginationConfig.hidePages %}
  <div class="pagination-pages">
    {% for href in pagination.hrefs %}
    <a href="{{href|url}}" aria-label="Page {{loop.index}}"
        {% if href === page.url %} aria-current="page"{% endif %}>
      {{loop.index}}
    </a>
    {% endfor %}
  </div>
  {% endif %}

  {% set emptyLabel = 'More to come…' if paginationConfig.isReversed else 'The end' %}
  {% if pagination.href.next %}
  {% set nextPageTitle =
      paginationConfig.nextPageTitle or ('Page ' + (pagination.pageNumber + 2)) %}
  <a href="{{pagination.href.next}}" class="pagination-next"
      title="Next page ({{nextPageTitle}})">
    <span role="none">Next:</span>
    <strong>{{nextPageTitle}}</strong>
  </a>
  {% else %}
  <span class="pagination-next" aria-hidden="true">{{emptyLabel}}</span>
  {% endif %}
</nav>

{% endif %}
